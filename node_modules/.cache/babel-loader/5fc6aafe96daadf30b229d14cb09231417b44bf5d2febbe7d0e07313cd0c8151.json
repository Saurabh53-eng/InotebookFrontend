{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import NoteContext from'../context/notes/noteContext';import EditNote from'./EditNote';import NoteItems from'./NoteItems';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Notes(props){const context=useContext(NoteContext);const{notes,getNote,editNote}=context;const[enote,setenote]=useState({id:\"\",title:\"\",description:\"\",tag:\"default\"});const navigate=useNavigate();useEffect(()=>{if(localStorage.getItem('token')){getNote();}else{navigate('/login');}// eslint-disable-next-line\n},[]);const ref=useRef(null);const refclose=useRef(null);const updateNote=currentNote=>{ref.current.click();setenote(currentNote);};const onchange=e=>{setenote({...enote,[e.target.name]:e.target.value});};const handleEdit=e=>{e.preventDefault();editNote(enote._id,enote.title,enote.description,enote.tag);refclose.current.click();props.showAlert(\"Note is updated successfully\",\"success\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"my-5\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83E\\uDDFE Your Notes:\"})})}),/*#__PURE__*/_jsx(EditNote,{reference:ref,closeref:refclose,enote:enote,onchange:onchange,handleChange:handleEdit}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-3\",children:notes.length===0&&\"No notes to display..\"}),notes.map(note=>{return/*#__PURE__*/_jsx(NoteItems,{note:note,updateNote:updateNote,showAlert:props.showAlert},note._id);})]})]});}export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","NoteContext","EditNote","NoteItems","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","context","notes","getNote","editNote","enote","setenote","id","title","description","tag","navigate","localStorage","getItem","ref","refclose","updateNote","currentNote","current","click","onchange","e","target","name","value","handleEdit","preventDefault","_id","showAlert","children","className","reference","closeref","handleChange","length","map","note"],"sources":["C:/Users/Admin/iNotebook/frontend/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\nimport NoteContext from '../context/notes/noteContext'\nimport EditNote from './EditNote';\nimport NoteItems from './NoteItems';\nimport { useNavigate } from 'react-router-dom'\n\nfunction Notes(props) {\n    const context = useContext(NoteContext);\n    const { notes, getNote, editNote } = context;\n    const [enote, setenote] = useState({ id: \"\", title: \"\", description: \"\", tag: \"default\" })\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (localStorage.getItem('token')) {\n            getNote()\n        } else {\n            navigate('/login')\n\n        }\n        // eslint-disable-next-line\n\n    }, [])\n\n    const ref = useRef(null);\n    const refclose = useRef(null);\n\n    const updateNote = (currentNote) => {\n        ref.current.click()\n        setenote(currentNote)\n    }\n\n    const onchange = (e) => {\n        setenote({ ...enote, [e.target.name]: e.target.value })\n    }\n\n    const handleEdit = (e) => {\n        e.preventDefault();\n        editNote(enote._id, enote.title, enote.description, enote.tag)\n        refclose.current.click()\n\n        props.showAlert(\"Note is updated successfully\", \"success\")\n    }\n\n\n    return (\n        <>\n            <div className='my-5' >\n                <div >\n                    <h3>ðŸ§¾ Your Notes:</h3>\n                </div>\n\n            </div>\n            <EditNote reference={ref} closeref={refclose} enote={enote} onchange={onchange} handleChange={handleEdit} />\n\n            <div className='row mb-5'>\n                <div className='mx-3'>\n                    {notes.length === 0 && \"No notes to display..\"}\n                </div>\n                {notes.map((note) => {\n                    return <NoteItems key={note._id} note={note} updateNote={updateNote} showAlert={props.showAlert} />\n                })}\n\n            </div>\n        </>\n    )\n}\n\nexport default Notes"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}